spill
=====

spill is a tiny stack-based programming language borrowing ideas from Forth
and Factor. The interpreter is written in the
[MoonScript][1](http://moonscript.org) dialect of Lua.

spill is meant for learning and messing around. You should not attempt to use it
for anything serious.

Examples
--------

Make sure to have MoonScript installed before starting the primitive REPL with
`./spill.sh`.

Say hello:

```
spill> "Hello spill!" print drop
"Hello spill!"
Data stack: []
```

Evaluate simple expressions:

```
spill> 1 2 3 + / .
0.2
Data stack: []
```

Define and use functions:

```
spill> : ++ 1 + ;
Data stack: []
spill> 42 ++ .
43
Data stack: []
```

Apply quotations with combinators:

```
spill> 1 2 3 [ ++ ] dip
Data stack: [1, 3, 3]
```

Inspect generated bytecode:

```
spill> [ 3 0 > if "yes" else "no" then . ] spill
Data stack: [__push, 3, __push, 0, >, __branch?, 12, __push, "yes",
__branch, 14, __push, "no", .]
spill> clear
Data stack: []
```

Check `prelude.moon` for more examples.

TODO
----

Stuff that could be added to make the language more useful:
- Stack effect comments
- Better control constructs
- Proper support for strings and sequences
- Map/dictionary data type
- Vocabularies of words

References
----------

- [My history with Forth & stack machines](http://yosefk.com/blog/my-history-with-forth-stack-machines.html)
- [A simple stack-oriented language](http://www.openbookproject.net/py4fun/forth/forth.html)
- [Beginning Factor - Introduction](http://elasticdog.com/2008/11/beginning-factor-introduction)
- [Beginning Factor - Shufflers & Combinators](http://elasticdog.com/2008/12/beginning-factor-shufflers-and-combinators)
- [A panoramic tour of Factor](http://andreaferretti.github.io/factor-tutorial)
